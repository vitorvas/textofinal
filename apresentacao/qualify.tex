\documentclass{beamer}

\usepackage[latin1]{inputenc}
\usepackage{graphics}
\usepackage{multirow}

\usepackage[brazilian]{babel} % Para nomes em português

\usepackage{sansmathaccent} % Tentando resolver o problema das equações
\pdfmapfile{+sansmathaccent.map}

%\usetheme{Warsaw}
%\usetheme{CambridgeUS}
%\usetheme{default}
%\usetheme{Montpellier}
%\usetheme{Pittsburgh}
\usetheme{Singapore}
\usecolortheme{rose}
%\usefonttheme{professionalfonts}
\usefonttheme{structuresmallcapsserif}


\title[Exame de qualificação]{Desenvolvimento do Acoplamento Neutrônico-termohidráulico usando os códigos PARCS e OpenFOAM: Aplicação à Segurança de Reatores}
\author[Vitor Vasconcelos]{Vitor Vasconcelos Araújo Silva}
\institute[DEN/UFMG e CDTN]{Departamento de Engenharia Nuclear - UFMG  e\\Centro de Desenvolvimento da Tecnologia Nuclear}
\date{30 de outubro de 2013}

% Tira os simbolos de navegacao
\beamertemplatenavigationsymbolsempty

\begin{document}

\begin{frame}
\titlepage
\end{frame}

%\begin{frame}
%\tableofcontents
%\end{frame}

%-------------------------------------------------------------
%\section{Introdução}
\begin{frame}{Definições}
\begin{block}{Hipótese}
É possível \alert{acoplar} os códigos OpenFOAM e PARCS para o cálculo termohidráulico 
e neutrônico de reatores nuclearer.
\end{block}
\pause
\begin{block}{Definição de acoplamento}
``Solução simultânea de múltiplos fenômenos físicos'' ou ``Interação entre dois sistemas físicos'' \\\cite{Lethbridge2005,Graham2004}\\
\begin{itemize}
  \item Interno: códigos integrados; 
  \item Externo: códigos rodam separadamente e trocam informações. \cite{Faghihi2011}
\end{itemize}
Uma definição mais detalhada dos parâmetros de acoplamento estão em \cite{Ivanov2007}.
\end{block}
\end{frame}

%--------------------------------------------------------------
\begin{frame}{Ineditismo}
\Huge{Acoplamento do código \textit{OpenFOAM}, do tipo CFD com o código PARCS}\footnote{Uso da modelagem do TRIGA existente para o PARCS\cite{Reis2013} ou outro código para neutrônica.}.
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Metas e objetivos}
\textbf{Desenvolver, implementar e validar uma metodologia e um software 
acoplando um código de CFD aberto (OpenFOAM) e um código de 
neutrônica.}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Metodologia}
\begin{figure}
  \centering
    \includegraphics[width=1.0\textwidth]{../figuras/grafico_metodologia.png}
  \caption{Etapas da Metodologia.}
  \label{fig:met}
\end{figure}

\end{frame}

%---------------------------------------------------------------
\begin{frame}{Situação atual}
1) Simulação termo-hidráulica CFD. 
\pause
$\surd$\\
\pause
2) Simulação neutrônica PARCS\cite{Reis2013}.
\pause
$\sim\surd$\\
\pause
\alert{3) Desenvolvimento do sistema acoplado.}\\
\alert{4) Simulação do sistema acoplado - seção cilíndrica.}\\
\pause
5) Simulação do sistema acoplado - TRIGA IPR-R1.\\
6) Validação da simulação por dados experimentais.\\
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Etapas (quase) concluídas}
1) Simulação termo-hidráulica CFD
\begin{itemize}
\item Modelagem do reator TRIGA IPR-R1;
\item Implementação de nova condição de contorno \cite{TRIGAfuel2013};
\item Simulação do reator TRIGA IPR-R1;
\end{itemize}
\pause
\vspace{0.5cm}
Detalhe a ser tratado:\\
\alert{$\rightarrow$ Tempo de simulação}\\
\pause
\vspace{0.5cm}
2) Simulação neutrônica PARCS\cite{Reis2013}.
\begin{itemize}
\item Utilização do modelo feito pela Patrícia Reis;
\end{itemize}
\pause
\vspace{0.5cm}
Se não for possível:\\
\alert{$\rightarrow$ Modelagem do TRIGA em outro código neutrônico!}\\
\end{frame}

%---------------------------------------------------------------
\begin{frame}{PDSE - Programa de Doutorado Sanduíche no Exterior - 13 de novembro}
\alert{3) Desenvolvimento do sistema acoplado.}\\
\pause
\begin{itemize}
\item Estudo de um sistema acoplado existente \cite{Monferrer2011a};
\item Implementação de um sistema de acoplamento \textit{OpenFOAM}/neutrônica;
\item $\ast$ Modelagem da neutrônica! \pause $\rightarrow$ Da seção de cilíndrica;
\end{itemize}
\pause
\alert{4) Simulação do sistema acoplado - seção cilíndrica.}\\
\pause
%\begin{itemize}
%\item Modelagem: apenas para fins de implementação.
%\item \alert{Não será uma neutrônica real!}
%\end{itemize}
\begin{figure}
  \centering
    \includegraphics[width=0.5\textwidth]{../figuras/grafita.png}
  \caption{Seção cilíndrica de testes.}
  \label{fig:seccil}
\end{figure}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Etapas finais}
5) Simulação do sistema acoplado - TRIGA IPR-R1.\\
\pause
\begin{itemize}
\item Uso do \textit{cluster} do Laboratório de termo-hidráulica;
\item 1) Simulação CFD $\Longleftrightarrow$ 2) Simulação neutrônica;
\end{itemize}
6) Validação da simulação por dados experimentais.\\
\begin{itemize}
\item Temperatura do fluido, temperatura do combustível, etc.
\end{itemize}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{\textit{Computational Fluid Dynamics} (CFD) (1/2)}
\textbf{O que é?} \\ 
\pause
``Análise de sistemas envolvendo movimento de fluidos, transferência 
de calor e fenômenos associados, como reações químicas, através 
de simulação computacional.''\cite{Versteeg2007}\\
\vspace{0.5cm}
\pause
\textbf{Como funciona?}\\
\pause
Pré-processador $\rightarrow$ \\
\pause
\begin{itemize}
\item Definição da geometria da região de interesse, o domínio computacional.
\item Geração de malha.
\item Definição do fenômeno físico.
\item Definição das propriedades do(s) fluido(s).
\item Especificação das condições de contorno.
\end{itemize}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{\textit{Computational Fluid Dynamics} (CFD) (2/2)}
\textbf{Como funciona?} \\

``Solucionador'' (Volumes Finitos)$\rightarrow$;
\begin{itemize}
\item Integração das equações que governam do movimento do fluido 
sobre todos os volumes (finitos) de controle do domínio.
\item \alert{Discretização}: Conversão das equações integrais resultantes em um 
sistema algébrico de equações.
\item Solução das equações algébricas por um método iterativo.
\end{itemize} 
\pause
Pós-processador $\rightarrow$;
\pause
\begin{itemize} 
\item Apresentação da geometria e malha.
\item Traçado de curvas.
\item Rastreamento de partículas.
\item Manipulação da imagem, etc.
\end{itemize} 
\end{frame}

%---------------------------------------------------------------
\begin{frame}{1) Simulação termo-hidráulica CFD (1/4)}
\begin{figure}
  \centering
    \includegraphics[width=1.0\textwidth]{../figuras/walls2.png}
  \caption{A malha do reator TRIGA IPR-R1.}
  \label{fig:mesh}
\end{figure}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{1) Simulação termo-hidráulica CFD (2/4)}
\begin{figure}
  \centering
    \includegraphics[width=1.0\textwidth]{../figuras/patches.png}
  \caption{\textit{Patches} de entrada e saída.}
  \label{fig:patches}
\end{figure}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{1) Simulação termo-hidráulica CFD (3/4)}
\begin{figure}
  \centering
    \includegraphics[width=1.0\textwidth]{../figuras/v8_2.png}
  \caption{Malha do domínio de fluido.}
  \label{fig:meshdom}
\end{figure}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{1) Simulação termo-hidráulica CFD (4/4)}

% Altera o tamanho das fontes verbatim
%\makeatletter
%\def\verbatim@font{\ttfamily\tiny}
%\makeatother

%\renewcommand{\arraystretch}{1.5}
\newcommand{\cc}{\centering}
\newcommand{\rr}{\raggedright}
\newcommand{\tn}{\tabularnewline}
\begin{table}[h]
\caption{Condições de contorno para os \textit{patches}} %title of the table
\centering % centering table
%\begin{tabular}{|p{4.5cm}|p{3cm}|p{3cm}|p{3cm}|}
{\scriptsize
\begin{tabular}{|c|l|l|}
\hline
\cc \textit{patch}       &\cc \textit{inlet}                    &\cc \textit{outlet}                            \tn \hline        
\rr \texttt{U}           &\cc \texttt{type fixedValue;}         &\cc \texttt{type pressureInletOutletVelocity;} \tn 
\rr                      &\cc \texttt{value uniform(0,0,-0.1);} &\cc \texttt{value uniform(0,0,0);}             \tn \hline
\rr \texttt{T}           &\cc \texttt{type fixedValue;}         &\cc \texttt{type zeroGradient;}                \tn 
\rr                      &\cc \texttt{value uniform 300;}       &\cc                                            \tn \hline
\rr \texttt{p}           &\cc \texttt{type calculated;}         &\cc \texttt{type calculated;}                  \tn 
\rr                      &\cc \texttt{value \$internalField;}   &\cc \texttt{value \$internalField;}            \tn \hline
\rr \texttt{p\_rgh}      &\cc \texttt{type buoyantPressure;}    &\cc \texttt{type buoyantPressure;}             \tn 
\rr                      &\cc \texttt{rho rhok;}                &\cc \texttt{rho rhok;}                         \tn 
\rr                      &\cc \texttt{value uniform 0;}         &\cc \texttt{value uniform 0;}                  \tn \hline
\end{tabular}
}
\label{tab:patches}
\end{table}
  
\end{frame}


%---------------------------------------------------------------
\begin{frame}{Resultados da simulação CFD (1/2)}
\begin{figure}
  \centering
    \includegraphics[width=1.0\textwidth]{../figuras/v8_3_alt.png}
  \caption{Aquecimento no domínio (tempo = 80s).}
  \label{fig:meshheated}
\end{figure}

\end{frame}

%---------------------------------------------------------------
\begin{frame}{Resultados da simulação CFD (2/2)}
\begin{figure}
  \centering
    \includegraphics[width=1.0\textwidth]{../figuras/v8_5.png}
  \caption{Aquecimento em corte central (tempo = 80s).}
  \label{fig:meshheatedcut}
\end{figure}

\end{frame}

%---------------------------------------------------------------
\begin{frame}{O modelo físico}
Problema de convecção natural simplificado.\\ 
\vspace{0.5cm}
\pause
E quais são as simplificações?\\
\pause
\begin{itemize}
\item Uma única fase;
\item Aproximação de \textit{Boussinesq}\cite{Gray76};
\item Velocidade constante positiva na entrada do domínio.
\end{itemize}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Equações simplificadas (1/2)}

Equação para continuidade: $\frac{\partial \bar{u}_j}{\partial x_j}=0$\\
\vspace{0.5cm}

Equação para o momento:\\
\vspace{0.25cm}
$\frac{\partial \bar{u}_i}{\partial t}+\frac{\partial}{\partial x_j}
(\bar{u}_j\bar{u}_i)-\frac{\partial}{\partial x_j}\bigg\{\nu_{eff}\bigg[
\bigg(\frac{\partial \bar{u}i}{\partial x_j}+\frac{\partial\bar{u}_j}{\partial x_i}\bigg)
-\frac{2}{3}\bigg(\frac{\partial \bar{u}_k}{\partial x_k}\bigg)
\delta_{ij}\bigg]\bigg\}=
-\frac{\partial \tilde{p}}{\partial x_i}+g_i\rho_k$\\
\vspace{0.5cm}
$\star$ Viscosidade cinemática turbulenta:
%\vspace{0.25cm}
$\nu_{t}=\frac{\mu_t}{\rho}=C_\mu \frac{k^2}{\epsilon}$\\
\vspace{0.5cm}
%onde $C_\mu$ é uma constante adimensional que por padrão vale $0.9$, $k$ a dissipação cinética e 
%$\epsilon$ a dissipação viscosa. 
$\star$ A viscosidade cinemática efetiva: $\nu_{eff}=\nu_t + \nu$\\
\vspace{0.5cm}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Equações simplificadas (2/2)}

Aproximação de \textit{Boussinesq} para a densidade cinématica efetiva:\\
\vspace{0.25cm}
$\rho_k = \big[1-\beta\big(\bar{T}-T_0\big)\big]$\\
\vspace{0.5cm}
Equação para a temperatura (energia):\\
\vspace{0.25cm}
$\frac{\partial \bar{T}}{\partial t}+\frac{\partial}{\partial x_j}\big(\bar{T}\bar{u}_j\big)-
\frac{\partial}{\partial x_k}\bigg(\kappa_{eff}\frac{\partial \bar{T}}{\partial x_k}\bigg)=0$\\
\vspace{0.5cm}
Coeficiente de transferência de calor:
$\kappa_{eff}=\frac{\nu_t}{Pr_t}+\frac{\nu_0}{Pr}$
\vspace{0.5cm}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Neutrônica}
Utilização da modelagem existente do TRIGA para o código PARCS\cite{Reis2013}.\\
\vspace{0.5cm}
\pause
Mas para testar o acoplamento 
\pause
$\rightarrow$ é \alert{necessário} modelar a seção cilíndrica!
\vspace{0.5cm}
\pause
\begin{itemize}
\item Plano A: PARCS (Experiência do grupo da UPV).
\pause
\item Plano B: Serpent (Monte Carlo).
\end{itemize}
\pause
\vspace{0.5cm}
\centering
$\star$ \alert{Geração de seções de choque!}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Código PARCS}
Código do tipo determinístico desenvolvido em FORTRAN.\\
\vspace{0.5cm}
``Resolve a equação de difusão para dois grupos de nêutrons dependentes do tempo em geometria cartesiana utilizando 
métodos nodais para a obtenção da distribuição do fluxo de nêutrons.''\\
\vspace{0.5cm}
Pode ser usado só e possui versão acoplada ao código de análise termo-hidráulica RELAP.\\
\vspace{0.5cm}
\pause
Ponto negativo: Ainda não tive a oportunidade de usá-lo! 
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Código Serpent}
Código do tipo Monte Carlo de aberto desenvolvido em C.
\begin{figure}
  \centering
    \includegraphics[width=1.0\textwidth]{../figuras/serpent.png}
  \caption{Captura de tela: código Serpent em execução.}
  \label{fig:serpent}
\end{figure}

\end{frame}

%---------------------------------------------------------------
\begin{frame}{Resultados preliminares}
Tese:
\begin{itemize}
\item Simulação do núcleo do TRIGA (80s);
\item Implementação de nova condição de contorno para o \textit{OpenFOAM}\cite{TRIGAfuel2013};
\end{itemize}
Trabalhos complementares:
\begin{itemize}
\item Simulações subcanais;
\item Seção cilíndrica com materiais no ANSYS/CFX;
\end{itemize}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Acoplamento}
Atividade principal!\\
\vspace{0.5cm}
Abordagem prevista:
\begin{itemize}
\item Equivalência (interpolação?) entre geometrias da seção cilíndrica;
\item Equivalência entre malha CFD e nodalização do PARCS \pause ou geometria do Serpent; \pause
\item Troca de informações: inicialmente acoplamento externo \pause $\rightarrow$ escreve-se um arquivo, lê-se um arquivo.
\pause Desejável: acoplamento interno! \pause
\item Re-implementação de funções de troca de mensagens (MPI ou PVM) de acordo com o código de neutrônica escolhido...
\end{itemize}
\pause
\vspace{0.5cm}
\alert{Esta lista é não-exaustiva!}
\end{frame}


%---------------------------------------------------------------
\begin{frame}{Validação}
A ser feita no retorno do estágio sanduíche (novembro de 2014):\\
\vspace{0.5cm}
\begin{itemize}
\item Simular o sistema acoplado \textbf{TRIGA IPR-R1};
\pause
\item Simular...
\pause
\item Simular...
\pause
\item Simular...
\end{itemize}
\vspace{0.5cm}
\pause
Validação da simulação por dados experimentais! \cite{Mesquita2006}\\
\pause
\vspace{0.5cm}
\alert{Prazo de conclusão do doutorado: 31 de agosto de 2015.}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Plano de Trabalho (PDSE)}
\begin{figure}
  \centering
    \includegraphics[width=0.75\textwidth]{../figuras/cronograma.png}
%  \caption{Cronograma estágio sanduíche.}
  \label{fig:cron}
\end{figure}
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Plano de Trabalho - retorno ao Brasil}
Tempo restante ao voltar: 9 meses!\\
\vspace{0.5cm}
\pause
Atividades a serem desenvolvidas/finalizadas:
\begin{itemize}
\item Instalação do sistema completo de acoplamento;
\item \textbf{Simulação};
\item Validação da simulação.
\end{itemize}
\vspace{0.5cm}
\pause
\alert{Paralelamente:}\\
 Redação de artigo para revista (requisito para obtenção do título de Doutor), finalização do texto 
da tese.
\end{frame}

%---------------------------------------------------------------
\begin{frame}{Eventos recentes}
Disponível a versão 2.2.2 do \textit{OpenFOAM}:
\begin{itemize}
\item Nova condição de contorno \texttt{externalCoupledMixedCondition} (Interação entre \textit{OpenFOAM} e aplicação externa);
\item Atualizada a condição de contorno \texttt{externalWallHeatFluxTemperature} (Múltiplas camadas); 
\item Atualizada a condição de contorno \texttt{buoyantPressure} (Re-inicialização suave de casos);
\end{itemize}

\end{frame}

%---------------------------------------------------------------
\begin{frame}{Conclusões preliminares}
\begin{itemize}
\item O \textit{OpenFOAM} se mostrou flexível e robusto (apesar da difícil utilização);
\item A simulação do núcleo do TRIGA precisa apenas de tempo de máquina;
\item A solução de problemas utilizando-se CFD não é algo trivial;
\item O código Serpent se mostrou bastante rápido para um caso teste executado (CANDU);
\item Em 24 meses de tese, o número de artigos sobre acoplamento neutrônico/termo-hidráulica teve um aumento notável.
\end{itemize}
\end{frame}

%---------------------------------------------------------------

%---------------------------------------------------------------
\begin{frame}
\centering
\Huge{Obrigado!}
\end{frame}

%---------------------------------------------------------------

\bibliographystyle{ieeetr}
\begin{frame}[allowframebreaks]{Referências bibliográficas}
\bibliography{../qualify}
\end{frame}
\end{document}

